<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><%= link_to "Главная", root_path %></li>
    <li class="breadcrumb-item active">Все статьи</li>
  </ol>
</nav>

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Все статьи</h1>
  <%= link_to "Назад к разделам", sections_path, class: "btn btn-outline-primary" %>
</div>

<% if @articles.any? %>
  <div class="list-group">
    <% @articles.each do |article| %>
      <div class="list-group-item">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">
            <%= link_to article.title, [article.section, article] %>
          </h5>
          <small><%= article.created_at.strftime("%d.%m.%Y") %></small>
        </div>
        <p class="mb-1">
          <small class="text-muted">
            Раздел: <%= link_to article.section.title, article.section %>
          </small>
        </p>
        <% if article.content.to_plain_text.present? %>
          <p class="mb-1 text-muted">
            <%= truncate(article.content.to_plain_text, length: 150) %>
          </p>
        <% end %>
        <div class="mt-2">
          <%= link_to "Читать", [article.section, article], class: "btn btn-sm btn-outline-primary" %>
          <%= link_to "Редактировать", edit_section_article_path(article.section, article), class: "btn btn-sm btn-outline-secondary" %>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="text-center py-5">
    <h4>Пока нет статей</h4>
    <p class="text-muted">Создайте первую статью в одном из разделов</p>
    <%= link_to "К разделам", sections_path, class: "btn btn-primary" %>
  </div>
<% end %>